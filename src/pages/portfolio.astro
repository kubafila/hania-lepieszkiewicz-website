---
import DOMPurify from "isomorphic-dompurify";
import {marked} from "marked";
import PortfolioCard from "../components/PortfolioCard.astro";
const locale = Astro.currentLocale ?? 'pl';
import { getCollection } from 'astro:content';
import Layout from "../layouts/Layout.astro";

const pageCollection = await getCollection('pagePortfolio');

const pageData = pageCollection[0].data[locale]

const renderHTMLFromMarkdown = (markdownText) =>
  DOMPurify.sanitize(marked.parse(markdownText));
---
<style lang="scss">
    .wrapper{
        height: 100vh;
        display: grid;
        place-items: center;
        width: 100%;
        grid-template-columns: repeat(auto-fit, minmax(256px, 1fr));
        column-gap: 32px;
        row-gap: 0;
        align-items: start;

    }
</style>
<Layout>


    <div class="wrapper">
        {pageData.items.filter(item => item.visible).map(({title,image, slug }) => <PortfolioCard title={title} image={image} slug={slug}/>) }
    </div>

</Layout>



